今天依旧没出门。不过知道外面曾下着暴雨，这两个季节就是雨水多。
        随心飞6月底就要到期了，感觉还可以玩两个城市就心满意足了，上次福州之行真是漏算一招，没想到15天前看天气定的飞机到了那边会遇到连续两天的阴雨天气，好在周六那天下午快到4点太阳才出来。很多景点因此没有时间去玩。我不想以后也遇到这样的情况，所以出行还是得看7天内的天气预报，往返出发和到达的两个城市天气都不能下雨，去玩的城市不能是阴雨天。多云和晴天就最好了。
       今天模仿了一个网站，终于把工具列表页做的像个样子，继续往里添加新的在线工具。
        drupal里的这些概念摸得差不多了，其中最核心的概念就是内容类型，类似数据库中的表，内容字段就是数据库中的字段，并且这些字段还能相互引用，就像数据库中表和表之间也能有外键关联。他有一些预设的类表的结构，其中比如用户，术语，文章（Article）。其他的就需要管理员自己来建。可以说这些内置的结构可以理解是一些小抄，可以依葫芦画瓢照着来。这里目前最麻烦的就是view，view在数据库中也有这个概念并且比drupal强大多了，他能根据不同的查询条件，筛选条件，查出不同的字段，还能分组聚合，这里的view和他的概念是一样的，就是为了展示到页面中。不过他这里显示可以有好几种模式。
        一种是分页或者全部显示查询到的数据到一个页面。
         另外一种是作为某个聚合页面的一个区块，只显示有限的几条数据，并且一般情况下显示的数据都不会很全，并且还可以做过一些数据字段的拼接处理，甚至加一些样式或者html样式，非常灵活。
         这里有个最极端的情况，就是一个视图只显示一条数据，并且这个数据还是完整的数据，这个和内容详情页面就只差两个分页按钮了，上一页下一页。
       不过还有一处最大的不同，就是详情页面，一般路径中是有这个详情内容的标识id的，用来唯一区分一个内容，而这个只有一条数据的视图，路径中是没有任何参数信息的，参数只能从返回的数据中去找。
    我这几天有个功能就是找了半天才找到解决方案，就是在详情页中加上上一页下一页的功能。最开始百思不得其解，后面找了个插件解决了这个问题。
        这个插件是个自定义组件，在布局里替换掉默认的内容区块（没错，每个内容其实都有个隐藏的区块-，这个默认就是full content 布局下的display mode 渲染的区块，和其他区块不同的是他没有正式的名字，或者说所有的内容类型都叫这个名字，只是再通过类型加以区分）。
        这个插件应该是在模板代码里去根据类型去查了不同类型对应的数据，变量就是那个路径最后面的参数。然后再渲染出来，并且在合适位置加上了两个按钮，这两个按钮就是两个普通连接，只不过他们的链接地址就是通过查库后获取的，查询挨着本id的左右两个id就可以了。
        第三点就是视图里还能定义是否展示表单输入以及如何展示。
       视图，内容类型不会随着模板切换而失效，因为他们其实代表着数据，而模板才是对应着如何显示。不过这里数据里面也可以掺杂着样式，就有点像html中，css样式既可以写在文件里面，也可以放在外面，通过引用方式来过去。放在里面的样式不好切换，放在外面的只需要更改引用地址就可以了，比较灵活。所以最好不要通过配置项直接添加任何样式，而应该通过外部文件来添加或者修改样式，js也应该如此。
       最麻烦的就在于样式不太好调整，因为这里页面很多是通过拼接得到的，有点像java开发最早的时候，就是jsp中混杂显示逻辑和处理逻辑。drupal虽然没有直接查库，但也差不多，毕竟还是直接去调用了drupal php api，我要想想后面如何规避这个问题，让样式写起来更容易一些。
